# -*- coding: utf-8 --
import logging
import base64
import xmlrpclib
import csv
from persistent import Persistent
from Products.CMFPlone.utils import safe_unicode
from Acquisition import aq_parent, aq_inner, Implicit
from zope.interface import implements, directlyProvidedBy
from zope import component, schema
from zope.component.hooks import getSite
from zope.schema.fieldproperty import FieldProperty
from zope.annotation import factory
from Products.CMFCore.interfaces import ISiteRoot
from Products.CMFCore.utils import getToolByName
from zope import component, schema
from zope.interface import implements, directlyProvidedBy
from zope.annotation import factory
from zope.annotation.interfaces import IAnnotations
from persistent.dict import PersistentDict
from Products.Five.browser import BrowserView
from zope.component.hooks import getSite
from openerplib import get_connection
from plone.dexterity.content import Item
import interfaces
from Products.Five.utilities import marker as fivemarker
from z3c.form.interfaces import INPUT_MODE, DISPLAY_MODE
from z3c.form.browser.multi import MultiFieldWidget, multiFieldWidgetFactory

from Products.CMFCore.utils import getToolByName
from config import _, fixEncode
import interfaces

LOG = logging.getLogger(__name__)

class OdooSettingsAdapter(Persistent):
    implements(interfaces.IOdooSettings)
    component.adapts(ISiteRoot)
  
    def __init__(self, **kwargs):
        iface = interfaces.IOdooSettings
        for field in [iface.get(name) for name in iface.names() if schema.interfaces.IField.providedBy(iface.get(name))]:
            setattr(self, field.__name__, kwargs.get(field.__name__, field.default))

OdooSettings = factory(OdooSettingsAdapter)

class OdooProduct(Item):
    implements(interfaces.IOdooProduct)
    """"""

